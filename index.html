<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Septic System Cost Calculator</title>
    <meta name="description" content="Get an accurate, detailed cost estimate for your septic system installation, repair, or maintenance. Covers all US states and system types.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/animations.css">

    <!-- Deferred JavaScript for performance -->
    <script src="node_modules/jspdf/dist/jspdf.umd.min.js" defer></script>
    <script src="assets/js/calculator.js" defer></script>
    <script src="assets/js/main.js" defer></script>
</head>
<body>

    <header class="main-header">
        <div class="container">
            <h1 class="fade-in-down">Septic System Cost Calculator</h1>
            <p class="fade-in-down" style="animation-delay: 0.2s;">Your professional open-source tool for accurate, detailed septic system estimates.</p>
        </div>
    </header>

    <main>
        <div class="container">
            <div id="calculator-container" class="calculator-container fade-in-up" style="animation-delay: 0.4s;">
                
                <div class="calculator-layout">

                    <!-- Left Column: The Form Steps -->
                    <div class="calculator-main">
                        <form id="septic-calculator-form" class="septic-calculator-form" novalidate>
                            
                            <!-- Step 1: Type of Work -->
                            <div class="form-step active" data-step="1">
                                <h2 class="step-title">What type of work do you need?</h2>
                                <p class="step-subtitle">This determines how we calculate your estimate.</p>
                                <div class="form-group">
                                    <label for="calculation-type">Select Work Type</label>
                                    <select id="calculation-type" name="calculationType" required>
                                        <option value="installation" selected>New System Installation</option>
                                        <option value="repair">System Repair</option>
                                        <option value="maintenance">Routine Maintenance</option>
                                    </select>
                                </div>
                                <div class="form-navigation">
                                    <button type="button" id="next-btn-1" class="button">Next →</button>
                                </div>
                            </div>

                            <!-- Step 2: Location -->
                            <div class="form-step" data-step="2">
                                <h2 class="step-title">Where is your property?</h2>
                                <p class="step-subtitle">Costs for labor and permits vary greatly by location.</p>
                                <div class="form-group">
                                    <label for="state">U.S. State</label>
                                    <select id="state" name="state" required></select>
                                </div>
                                <div class="form-group">
                                    <label for="zip-code">5-Digit ZIP Code</label>
                                    <input type="text" id="zip-code" name="zipCode" inputmode="numeric" pattern="[0-9]{5}" placeholder="e.g., 90210" required>
                                </div>
                                <div class="form-navigation">
                                    <button type="button" id="prev-btn-2" class="button secondary-button">← Previous</button>
                                    <button type="button" id="next-btn-2" class="button">Next →</button>
                                </div>
                            </div>

                            <!-- Step 3: Property & Usage (Installation only) -->
                            <div class="form-step" data-step="3">
                                <h2 class="step-title">Tell us about your household.</h2>
                                <p class="step-subtitle">System size depends on the number of occupants and water use.</p>
                                <div class="form-group">
                                    <label for="household-size">People in Household</label>
                                    <select id="household-size" name="householdSize" required>
                                        <option value="1-2" selected>1-2 People (Low Usage)</option>
                                        <option value="3-4">3-4 People (Average Usage)</option>
                                        <option value="5-6">5-6 People (High Usage)</option>
                                        <option value="7+">7+ People (Very High Usage)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="water-usage">Daily Water Use Habits</label>
                                    <select id="water-usage" name="waterUsage" required>
                                        <option value="low">Conservative</option>
                                        <option value="average" selected>Average</option>
                                        <option value="high">High</option>
                                    </select>
                                </div>
                                <div class="form-navigation">
                                    <button type="button" id="prev-btn-3" class="button secondary-button">← Previous</button>
                                    <button type="button" id="next-btn-3" class="button">Next →</button>
                                </div>
                            </div>

                            <!-- Step 4: Site Conditions & System -->
                            <div class="form-step" data-step="4">
                                <h2 class="step-title">What are the site conditions?</h2>
                                <p class="step-subtitle">This determines the type and complexity of the system.</p>
                                <div class="form-group">
                                    <label for="soil-type">Predominant Soil Type</label>
                                    <select id="soil-type" name="soilType" required>
                                         <option value="ideal" selected>Good (Loam, Sandy Loam)</option>
                                         <option value="moderate">Average (Silt, Clay Loam)</option>
                                         <option value="difficult">Poor (Heavy Clay, Rocky)</option>
                                         <option value="special">Problematic (High Water Table, Bedrock)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="system-type" id="system-type-label">System or Job Type</label>
                                    <select id="system-type" name="systemType" required></select>
                                </div>
                                <div class="form-navigation">
                                    <button type="button" id="prev-btn-4" class="button secondary-button">← Previous</button>
                                    <button type="submit" id="calculate-btn" class="button">Calculate Estimate</button>
                                </div>
                            </div>

                        </form>
                    </div>

                    <!-- Right Column: The Results / Summary -->
                    <div class="calculator-sidebar">
                        <div id="results-container">
                             <h3 class="sidebar-title">Your Estimate</h3>
                             <p class="sidebar-placeholder">Complete the steps to see your detailed cost breakdown.</p>
                             <div id="results-output"></div>
                             <div id="pdf-download-area" style="display: none;">
                                <button type="button" id="download-pdf-btn" class="button full-width">Download Quote as PDF</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>Open Source Project | MIT License | <a href="https://github.com/septicsense/septic-system-cost-calculator" target="_blank" rel="noopener noreferrer">GitHub Repository</a></p>
        </div>
    </footer>

</body>
</html>