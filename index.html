<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Septic System Cost Estimator</title>
    <meta name="description" content="An expert-level, itemized cost estimate for septic system installation, repair, or maintenance based on real-world conditions.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="assets/css/styles.css">
    
    <!-- Deferred JavaScript for performance -->
    <script src="assets/js/script.js" defer></script>

</head>
<body>

    <header class="main-header">
        <div class="container">
            <h1>Septic System Cost Estimator</h1>
            <p>An expert tool for transparent, real-world cost analysis.</p>
        </div>
    </header>

    <main>
        <div class="container">
            <div id="calculator-container" class="calculator-container">
                
                <div class="calculator-layout">

                    <!-- Left Column: The Smart Form -->
                    <div class="calculator-main">
                        <form id="septic-calculator-form">
                            
                            <!-- Master Control: Work Type -->
                            <div class="form-block">
                                <label for="work-type" class="form-label-bold">What type of work do you need?</label>
                                <select id="work-type" name="work-type" required>
                                    <option value="installation" selected>New System Installation</option>
                                    <option value="repair">System Repair</option>
                                    <option value="maintenance">Routine Maintenance</option>
                                </select>
                            </div>

                            <!-- ===== DYNAMIC QUESTIONS START HERE ===== -->
                            <!-- These blocks will be shown/hidden by JavaScript -->

                            <!-- Question Block: Region (Used by all modes) -->
                            <div id="region-block" class="form-block">
                                <label for="region" class="form-label-bold">1. Where is the property?</label>
                                <p class="form-hint">This adjusts for local labor and material costs, which is the biggest factor in your final price.</p>
                                <select id="region" name="region" required>
                                    <option value="" disabled selected>Select your area type...</option>
                                    <option value="rural">Rural / Low Cost Area (e.g., AL, AR, MS)</option>
                                    <option value="suburban">Suburban / Average Cost Area (e.g., OH, MO, GA)</option>
                                    <option value="urban">Urban / High Cost Area (e.g., CA, FL, TX)</option>
                                    <option value="metro">Major Metro / Very High Cost Area (e.g., near NYC, LA, Chicago)</option>
                                </select>
                            </div>

                            <!-- Question Block: Installation Details -->
                            <div id="installation-questions" class="form-block-group">
                                <div class="form-block">
                                    <label for="bedrooms" class="form-label-bold">2. How many bedrooms in the home?</label>
                                    <p class="form-hint">This is the standard used by health departments to determine required system size.</p>
                                    <select id="bedrooms" name="bedrooms" required>
                                        <option value="1-2">1-2 Bedrooms</option>
                                        <option value="3" selected>3 Bedrooms</option>
                                        <option value="4">4 Bedrooms</option>
                                        <option value="5">5 Bedrooms</option>
                                        <option value="6+">6+ Bedrooms</option>
                                    </select>
                                </div>
                                <div class="form-block">
                                     <label for="soil-type" class="form-label-bold">3. What are the site conditions?</label>
                                     <p class="form-hint">This is the critical factor that determines which type of system is possible.</p>
                                     <select id="soil-type" name="soil-type" required>
                                        <option value="" disabled selected>Select your soil type...</option>
                                        <option value="good">Good (Flat, well-draining loam/sand)</option>
                                        <option value="average">Average (Slight slope, some clay)</option>
                                        <option value="poor">Poor (Heavy clay, steep, rocky)</option>
                                        <option value="vpoor">Very Poor (Fails perc test, small lot, bedrock)</option>
                                    </select>
                                </div>
                                <div class="form-block">
                                    <label for="system-type" class="form-label-bold">4. System Type</label>
                                    <p class="form-hint">Options are filtered based on your site conditions.</p>
                                    <select id="system-type" name="system-type" required>
                                        <option value="" disabled selected>Select soil type first...</option>
                                    </select>
                                </div>
                                <div class="form-block">
                                    <label for="tank-material" class="form-label-bold">5. Tank Material</label>
                                    <select id="tank-material" name="tank-material" required>
                                        <option value="concrete" selected>Concrete (Most common)</option>
                                        <option value="plastic">Plastic / Polyethylene</option>
                                        <option value="fiberglass">Fiberglass</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Question Block: Repair Details -->
                            <div id="repair-questions" class="form-block-group hidden">
                                <div class="form-block">
                                    <label class="form-label-bold">2. Select Required Repairs</label>
                                    <p class="form-hint">Check all that apply. Costs are for standard replacements.</p>
                                    <div class="form-group-checkbox">
                                        <input type="checkbox" id="repair-lid" name="repair-item" value="lid">
                                        <label for="repair-lid">Tank Lid Replacement</option>
                                    </div>
                                    <div class="form-group-checkbox">
                                        <input type="checkbox" id="repair-baffle" name="repair-item" value="baffle">
                                        <label for="repair-baffle">Baffle Repair / Replacement</label>
                                    </div>
                                    <div class="form-group-checkbox">
                                        <input type="checkbox" id="repair-pump" name="repair-item" value="pump">
                                        <label for="repair-pump">Effluent Pump Replacement</label>
                                    </div>
                                    <div class="form-group-checkbox">
                                        <input type="checkbox" id="repair-dbox" name="repair-item" value="dbox">
                                        <label for="repair-dbox">Distribution Box (D-Box) Replacement</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Question Block: Maintenance Details -->
                            <div id="maintenance-questions" class="form-block-group hidden">
                                <div class="form-block">
                                    <label for="tank-size" class="form-label-bold">2. Septic Tank Size</label>
                                    <p class="form-hint">If unsure, 1000-1250 gallons is typical for a 3-4 bedroom home.</p>
                                    <select id="tank-size" name="tank-size" required>
                                        <option value="1000" selected>1000 Gallons</option>
                                        <option value="1250">1250 Gallons</option>
                                        <option value="1500">1500 Gallons</option>
                                        <option value="1500+">Over 1500 Gallons</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Universal Calculate Button -->
                            <div class="form-block">
                                <button type="submit" id="calculate-btn" class="button full-width">Calculate Estimate</button>
                            </div>

                        </form>
                    </div>

                    <!-- Right Column: The Results / Summary -->
                    <div class="calculator-sidebar">
                        <div id="results-container">
                             <h3 class="sidebar-title">Your Estimate</h3>
                             <div id="results-placeholder">
                                <p>Select a work type and fill out the details on the left to generate your itemized cost estimate.</p>
                             </div>
                             <div id="results-output" class="hidden">
                                <div id="results-header">
                                    <p id="results-summary-text">Estimate for a New Installation</p>
                                    <h2 id="results-range">$0 - $0</h2>
                                </div>
                                <div id="results-breakdown-title" class="hidden">
                                    <h4>Itemized Cost Breakdown:</h4>
                                </div>
                                <div id="results-breakdown">
                                    <!-- Itemized breakdown will be inserted here by JavaScript -->
                                </div>
                                <div id="results-notes-title" class="hidden">
                                     <h4>Expert Notes:</h4>
                                </div>
                                <div id="results-notes">
                                    <!-- Expert notes will be inserted here by JavaScript -->
                                </div>
                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>Open Source Project | MIT License | <a href="https://github.com/septicsense/septic-system-cost-calculator" target="_blank" rel="noopener noreferrer">GitHub Repository</a></p>
        </div>
    </footer>

</body>
</html>
